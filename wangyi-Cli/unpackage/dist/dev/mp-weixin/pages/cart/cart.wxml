<view class="cart"><view class="cartList"><block wx:for="{{cartList}}" wx:for-item="item" wx:for-index="index" wx:key="id"><view class="cartItem"><text data-event-opts="{{[['tap',[['changeSelected',[index]]]]]}}" class="{{['iconfont','icon-xuanzhong','',(item.isSelected)?'selected':'']}}" bindtap="__e"></text><view class="goodsItem"><image src="{{item.primaryPicUrl}}" mode></image><view class="goodsInfo"><view class="name">{{''+item.name+''}}</view><view class="price">{{'￥'+item.retailPrice+''}}</view></view></view><view class="countCtrl"><text data-event-opts="{{[['tap',[['changeCount',[index,-1]]]]]}}" class="sub" bindtap="__e">-</text><text class="count">{{item.count}}</text><text data-event-opts="{{[['tap',[['changeCount',[index,1]]]]]}}" class="add" bindtap="__e">+</text></view></view></block></view><view class="footer"><view class="left"><text data-event-opts="{{[['tap',[['changeIsAllSelected',[!isAllSelected]]]]]}}" class="{{['iconfont','icon-xuanzhong',(isAllSelected)?'selected':'']}}" bindtap="__e"></text><text>{{"已选 "+totalCount}}</text></view><view class="right"><text class="btn">{{"合计: ￥ "+totalPrice}}</text><text class="btn order">下单</text></view></view></view>